# ════════════════════════════════════════════════════════════════════════════════
# Environment Configuration Template
# Copy to .env and fill in your values
# ════════════════════════════════════════════════════════════════════════════════

# ════════════════════════════════════════════════════════════════════════════════
# PROJECT CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════════
PROJECT_NAME=myapp
ENVIRONMENT=development  # development | staging | production
DEBUG=true
LOG_LEVEL=debug  # debug | info | warning | error | critical
LOG_FORMAT=json  # json | text
PYTHON_VERSION=3.12

# ════════════════════════════════════════════════════════════════════════════════
# API SERVICE CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════════
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true  # Hot reload for development

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_HEADERS=*

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# ════════════════════════════════════════════════════════════════════════════════
# BOT SERVICE CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════════
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
BOT_WEBHOOK_MODE=false  # false=polling, true=webhook
BOT_WEBHOOK_URL=https://your-domain.com/bot/webhook
BOT_WEBHOOK_SECRET=your_webhook_secret_here

# ════════════════════════════════════════════════════════════════════════════════
# WORKER SERVICE CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════════
WORKER_CONCURRENCY=4
WORKER_PREFETCH_COUNT=10

# ════════════════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════════

# PostgreSQL
POSTGRES_DB=microservices_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_EXTERNAL_PORT=5432
POSTGRES_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=10
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/microservices_db

# MongoDB
MONGO_DATABASE=microservices_analytics_db
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=admin
MONGO_HOST=mongodb
MONGO_PORT=27017
MONGO_EXTERNAL_PORT=27017
MONGO_URL=mongodb://mongodb:27017
MONGO_MAX_POOL_SIZE=100

# ════════════════════════════════════════════════════════════════════════════════
# REDIS CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════════
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_EXTERNAL_PORT=6379
REDIS_URL=redis://redis:6379/0
REDIS_DB_API=0       # API service cache
REDIS_DB_BOT=1       # Bot service sessions
REDIS_DB_WORKER=2    # Worker service locks
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# ════════════════════════════════════════════════════════════════════════════════
# RABBITMQ CONFIGURATION
# ════════════════════════════════════════════════════════════════════════════════
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_EXTERNAL_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin
RABBITMQ_VHOST=/
RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672/
RABBITMQ_EXCHANGE=myapp_events
RABBITMQ_QUEUE_PREFIX=myapp

# ════════════════════════════════════════════════════════════════════════════════
# AUTHENTICATION & SECURITY
# ════════════════════════════════════════════════════════════════════════════════
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
BCRYPT_ROUNDS=12

# ════════════════════════════════════════════════════════════════════════════════
# OBSERVABILITY
# ════════════════════════════════════════════════════════════════════════════════

# Sentry
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# Prometheus
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3000

# Jaeger
JAEGER_ENABLED=true
JAEGER_HOST=jaeger
JAEGER_PORT=6831
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268
JAEGER_OTLP_GRPC_PORT=4317
JAEGER_OTLP_HTTP_PORT=4318

# ════════════════════════════════════════════════════════════════════════════════
# EXTERNAL INTEGRATIONS (Optional)
# ════════════════════════════════════════════════════════════════════════════════

# Email (SMTP)
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM_EMAIL=noreply@myapp.com
SMTP_FROM_NAME=MyApp

# Email (SendGrid)
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@myapp.com

# SMS (Twilio)
TWILIO_ENABLED=false
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# Cloud Storage (AWS S3)
AWS_ENABLED=false
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_REGION=us-east-1

# Cloud Storage (Google Cloud)
GCP_ENABLED=false
GCP_PROJECT_ID=
GCP_CREDENTIALS_FILE=/path/to/credentials.json
GCP_BUCKET=

# Payment Gateway (Stripe)
STRIPE_ENABLED=false
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Payment Gateway (PayPal)
PAYPAL_ENABLED=false
PAYPAL_MODE=sandbox  # sandbox | live
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=

# ════════════════════════════════════════════════════════════════════════════════
# FEATURE FLAGS
# ════════════════════════════════════════════════════════════════════════════════
ENABLE_REGISTRATION=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_RATE_LIMITING=true
ENABLE_CACHE=true

# ════════════════════════════════════════════════════════════════════════════════
# DEVELOPMENT TOOLS
# ════════════════════════════════════════════════════════════════════════════════
ENABLE_SWAGGER=true
ENABLE_REDOC=true
ENABLE_PROFILER=false
ENABLE_SQL_ECHO=false
